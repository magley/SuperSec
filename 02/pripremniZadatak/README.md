# Припремни задатак

>[Preuzeti] OWASP Threat Dragon i [kreirati] threat model nekog prethodnog projekta.

## Решење

`zad.json` садржи контекстни дијаграм пројекта из предмета Напредне веб технологије
са измоделованим (неким) претњама. Рађено у _Threat Dragon_ алату.

Дијаграм описује веб апликацију са API сервервом и WebSocket сервером, неколико база података (SQL, *time-series*, key-value и текст-оријентисана база) и 3rd party агентима (Mosquitto, Telegraf). *IoT device* чине симулатори сензора и актуатора. WebSocket сервер је замишљен са подршком за хоризонтално скалирање.

Измоделоване су *само неке* претње као припрема за главни задатак и упознавање са алатом за моделовање претњи. Рађено је по STRIDE моделу.

Важни асети у систему су подаци о паметним некретнинама и забележена мерења и команде упућене уређајима. Свим овим подацима директни приступ имају њихови власници (власник некретнина има увид у све уређаје у тој некретнини) као и сви други корисницима којима се експлицитно додели приступ одговарајућој некретнини или уређају. За приступ овим подацима имплементиран је робустан RBAC механизам. 

Ови асети су инхерентно поверљиви. Интегритет измерених података битна али се не тражи строга тачност (уређаји сами по себи могу да греше). Доступност је од најнижег значаја. Оштећење ових безбедносних циљева би у најгорем случају нарушио приватност наших корисника - нападач би добио увид и контролу у рад некретнине уређаја и то могао да злоупотреби. Ово би било веома лоше за нашу компанију.

Највећу претњу чине мањак криптографије (и у DMZ и на корисничком нивоу) и рањивост према DoS нападима. Ове претње се могу митиговати увођењем безбедне комуникације (HTTPs, wss, MQTT са криптографијом) и применом *rate-limiting* механизама.  